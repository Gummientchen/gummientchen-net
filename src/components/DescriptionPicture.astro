---
import { Picture } from 'astro:assets';

const { src, alt, ...attrs } = Astro.props;
---

<figure>
  <Picture
    src={src}
    widths={[540, 820, 1280, src.width]}
    formats={['avif', 'webp']}
    inferSize
    sizes="(max-width: 66em) 100vw, (min-width: 66em) 66em, (min-width: 87em) 87em"
    alt="{alt}"
    {...attrs}
  />
  <figcaption>{alt}</figcaption>
</figure>

<style>
  figure {
    padding: 0;
    margin: 0;
  }

  figcaption {
    font-size: 1rem;
  }
</style>
